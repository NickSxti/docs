---
title: "Stripe Integration"
description: "Connect your Stripe account to Qonversion"
---

Qonversion supports Stripe web payments. This integration allows Qonversion to manage cross-platform subscribers' access and provide analytics for payments made via Stripe on your website.

<Info>
  In case you are selling digital goods, you can not promote web payment options in your mobile app as it goes against the app stores' policies.
</Info>

## 1. Connect your Stripe account to Qonversion

Click the **Stripe** button in the Stores tab of your project settings in [Qonversion dashboard](https://dash.qonversion.io/project-settings/stores).

<Frame caption="Connect your Stripe account">
  <img src="/images/docs/b5ad6c5-Screenshot_2024-02-06_at_16.59.41.png" />
</Frame>

Sign in using your existing Stripe account or create a new one. These options will be offered during the integration process.

<Info>
  Qonversion only retrieves information from Stripe and does not update anything in your Stripe account. You have complete control over your Stripe account and can revoke access whenever you want.
</Info>

## 2. Create Stripe products

You can create products using Stripe [dashboard:](https://dashboard.stripe.com/products/create)

<Frame caption="Product creation">
  <img src="/images/docs/a579fd2-Screenshot_2022-06-02_at_21.08.15.png" />
</Frame>

A product can have multiple prices â€” more about setting up Stripe products in [Stripe official documentation](https://stripe.com/docs/billing)

<Warning>
  Qonversion currently supports only Package and Standard pricing models.
</Warning>

You can use the Stripe dashboard to create a subscription manually, but the most common way is to use Stripe checkout on your website to get the customer payment information and send it to your server. You can check the details of working with Stripe subscriptions using REST API [here](https://stripe.com/docs/api/)

## 3. Add your Stripe products to Qonversion

<Info>
  Skip this step if you are not using the [Qonversion Subscription Management mode](subscription-management-mode).
</Info>

Add your Stripe products to the [dashboard](https://dash.qonversion.io/entitlements/products) to manage cross-platform subscribers' access.

<Frame caption="Qonversion Product">
  <img src="/images/docs/67dcfd4-Screenshot_2024-02-06_at_17.00.32.png" />
</Frame>

Make sure that the Stripe Product Identifier that you provide to Qonversion matches your Product ID in Stripe. You can find your Product ID in Stripe via the product [page](https://dashboard.stripe.com/products).

<Frame caption="Stripe Product ID">
  <img src="/images/docs/6fd4085-Screenshot_2022-06-02_at_21.06.42.png" />
</Frame>

## 4. Send Stripe purchases to Qonversion

For instance, let's use the [Prebuilt subscription page with Stripe Checkout](https://stripe.com/docs/billing/quickstart)

1. Add param `product_id` (in our case it's equal to `prod_LnoFij9PJ9OvK2`) to the Success URL. `/success?session_id={CHECKOUT_SESSION_ID}&product_id=prod_LnoFij9PJ9OvK2`

2. In the Success URL handler retrieve the Stripe Session data via [Stripe API](https://stripe.com/docs/api/checkout/sessions/retrieve). Let's name it `stripe_session`. Additional information about success page customization is specified on the Stripe docs page [Customise your success page](https://stripe.com/docs/payments/checkout/custom-success-page)

3. Send your Stripe purchase result to Qonversion via the [API endpoint](/guides/reference/overview).

<CodeGroup>
  ```bash bash
  curl --request POST \
    --url https://api.qonversion.io/v3/users/{user_id}/purchases \
    --header 'Authorization: Bearer PROJECT_KEY' \
    --header 'Content-Type: application/json' \
    --data-raw '{
    	"currency":"USD",
      "price":"11.99",
      "stripe_store_data": {
      	"subscription_id":"sub_XXXXXX",
      	"product_id":"prod_LnoFij9PJ9OvK2"
      }
    }'
  ```
</CodeGroup>

| Qonversion request field             | Source                                         |
| ------------------------------------ | ---------------------------------------------- |
| currency                             | stripe\_session.currency                       |
| price                                | stripe\_session.amount\_total                  |
| stripe\_store\_data.subscription\_id | stripe\_session.subscription.id                |
| stripe\_store\_data.product\_id      | GET parameter product\_id from the Success URL |

Qonversion updates data on Stripe subscriptions automatically. Usually, it happens with a slight delay compared to its actual state in Stripe.

## Limitations

**Supported subscription billing models**

Only the Package and Standard pricing subscription billing models are supported. We will be expanding to more pricing options soon!

You can read more about subscription billing models in [Stripe official documentation](https://stripe.com/docs/billing/subscriptions/model).

**Proration payments**

Subscription changes such as upgrading or downgrading can result in prorated charges. Qonversion will not account for these charges in revenue calculations. It would be best to disable these options manually via the Stripe dashboard. You can also disable them by setting the `proration_behavior` attribute value to `false` via the Stripe API.

**Cancellations**

Stripe has two subscription cancellation options:

1. *Immediate cancellation*: subscription cancels immediately with or without any proration option
2. *Cancellation at the end of the period*: The subscription cancels at the end of the current billing period (similar to in-app subscriptions on the app stores).

Qonversion supports both options, but the revenue calculation for immediate cancellation will disregard the proration option.

**Coupons, discounts, and price changes**

Qonversion will take into account price changes, including manual updates or coupons, applied by customers in subscription revenue calculation.

**Refunds**

Qonversion tracks only full refunds. Proration or partial refunds are not supported currently.

***

[Google Play Product Details](google-play-product-details)

[Web SDK](web-sdk)
